# Administration

## problem statement 1

The problem deals with the internet censorship imposed by our institution. The actual problem lies in our network architecture. Even if we try to use tor network, what I understood from the network architecture is, all the trafic would route through our college proxy server and the nodes of a tor network have their ip address public which means that the network traffic from your system reveals that you are using the tor network. The installation process of the streisand is available on their afficial github page but that doesn't solves the issue of censorship as we need to take care of other network dependent stuffs like dns leakage which can reveal what you are trying to surf over the tor network and can even be a curse for you. It's not even that easy(it is, if you know how things work) to set up a tor network or use tor network at suck a broad scale. One small mistake can lead to consequences espically when it comes to our college. Many people have actually created/deployed this service on cloud servers but only few of them have actually activated the add-ons available for the server, and if they haven't activated the add-ons, even this vpn service can't fight against the internet censorship to a greater extend. The safe practice to use tor network is using tor over vpn which is provided by nord vpn(If you are using any other vpn service, we can't comment about the privacy and anonymity as many vpn services actually log you data traffic). Even if we acticate the add-ons avaiilable, the increase in the data traffic would be enormous and can be eye-catcher especiially for the network admin. If the add-ons aren't activated, the we need to take care of DNS leakage for which you may even need to re-configure your whole network as a vpn with a DNS leakage is of no use.  Evne if all these things are handled, we need to configure tor service present on our server with the proxy used by us on college network to make it suitable for our college network structure, else all our data would remain un-encrypted and the network admin can view all our queries that we search using this service with the hhelp of tools like WIRESHARK(it's personally my favourite tool when it comes to packet analysing). If all these things/issues are handled, then only the streisand server is of any worth for us.

## problem statement 2

The very first step would be to identify the ip address from where user69 operated for the last time or is operating right now and block that ip address using the firewall which we have on our server(it's presence is not denied in the ques.). This step will lend us some more time to take actions against the attacker.
Now, we need to change all the user credentiials present on the server so that he/she can't use any default or know password to gain admin access(from here, he can earn system previleges easily using `getsystem` command of metasploit of a similar command present in any other CnC) or become a super user.
Since, there is no known vulnerability in service A, there are 99% chances that the attack veector will pass through service B.
As it is mentioned that the hacker has already backdoored our server, our next step would be to identify that backdoor and eliminate it.
For this work, the very first step of blocking the ip can be useful. If, even after backdooring the server, hacker is using user69, as soon as we block the user, hacker will shift to his/her bbackdoor to connect back to the server. Even if this case is not true, the next step is possible and can be used to identify the attacker.
Now, our network defender will come into action. Using it we will identify all those ip addresses who have established connections with our server recently. This will help use in identifying the services to which recent connections are established. Using this, we can idnetify the backdoor deployed by the attacker.
For this action, hacker would most probably be using a CnC (command and control) architecture. There are very high chhances that the CnC used by the attcker would be the metasploit framework because of it's robustness.
If his recon is strong, he can use any local exploit present in the metasploit to become super user and even before we know the local exploit he is using, he would become a super user.
To prevent the use off local exploits, use need to know the local exploits provided by the metasploit as they keep changing regularly. There location is `exploit/<os>/local/` and the offered operatiing systems are aix, freebsd, linux, openbsd, osx, solaris, anx, unix, windows. Other local exploits which can be used for this work are also present, use `search local` command in the msfconsole to get a list of all the local exploits currently available.
In case we are unable to bblock hhis ip address and he has used any local exploit, it would be very difficult for us to gain bak the server control.
